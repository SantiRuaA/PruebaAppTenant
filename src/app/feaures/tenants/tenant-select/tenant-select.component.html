<div class="relative">
  <button 
    type="button" 
    (click)="toggleDropdown()" 
    class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
  >
    <span *ngIf="currentTenant$ | async as tenant">{{ tenant.name }}</span>
    <span *ngIf="!(currentTenant$ | async)">Seleccionar Tenant</span>
    <span class="material-icons ml-2 text-sm">arrow_drop_down</span>
  </button>

  <div 
    *ngIf="isOpen" 
    class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10"
    role="menu" 
    aria-orientation="vertical" 
    aria-labelledby="menu-button" 
    tabindex="-1"
  >
    <div class="py-1" role="none">
      <div *ngIf="loading$ | async" class="px-4 py-2 text-sm text-gray-500">
        Cargando...
      </div>
      <a 
        *ngFor="let tenant of tenants$ | async" 
        (click)="selectTenant(tenant)" 
        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 cursor-pointer"
        role="menuitem" 
        tabindex="-1"
      >
        {{ tenant.name }}
      </a>
      <div *ngIf="(tenants$ | async)?.length === 0 && !(loading$ | async)" class="px-4 py-2 text-sm text-gray-500">
        No hay tenants disponibles
      </div>
      <div class="border-t border-gray-100 mt-1 pt-1">
        <a 
          routerLink="/tenants/new" 
          class="block px-4 py-2 text-sm text-indigo-600 hover:bg-gray-100 hover:text-indigo-900"
          role="menuitem" 
          tabindex="-1"
        >
          <span class="material-icons mr-1 text-sm align-text-bottom"></span>
          Nuevo Tenant
        </a>
      </div>
    </div>
  </div>
</div>